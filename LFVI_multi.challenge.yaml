challenge: aido5-LFVI_multi-sim-validation

title: "LFVI multibody üöóüöóüö¶ - Lane following + Vehicles + Intersections (simulation üëæ, validation üèã) "
tags: [visible, ml-validation, aido5, aido5-embodied, LFVI, v4, simulation]
description: |

protocol: aido2_db18_agent-z2

date-open: 2020-09-15T00:00Z
date-close: 2020-12-05T00:00Z

scoring: !include scoring.yaml

dependencies:
  aido5-LFV-sim-validation:
    description: The submission must first pass LFV testing.
    min_threshold: 2.0
    scores:
      good_enough:
        description: Must have moved at least 20cm.
        importance: 1.0
        score_name: driven_lanedir_consec_median
        score_min: 0.2
        score_max: 10000.0
    comparisons:
      better-than-bea-straight:
        description: Must be do better than the straight solution.
        importance: 1.0
        username: "1639"
        sub_label: 'straight'

steps:
  LFVIv-sim:
    title: Simulation step
    description: ""
    features_required:
      compute_sims: 1 # computation machine


    timeout: 3600 # 1 hour
    evaluation_parameters:
      services:
        evaluator: !include comp_evaluator.yaml
        simulator: !include comp_simulator.yaml
        solution: !include comp_solution.yaml


        solution-ego0:
          image: SUBMISSION_CONTAINER
          environment:
            AIDONODE_NAME: ego0
            AIDONODE_DATA_IN: /fifos/ego0-in
            AIDONODE_DATA_OUT: fifo:/fifos/ego0-out

        solution-ego1:
          image: SUBMISSION_CONTAINER
          environment:
            AIDONODE_NAME: ego1
            AIDONODE_DATA_IN: /fifos/ego1-in
            AIDONODE_DATA_OUT: fifo:/fifos/ego1-out

        solution-ego2:
          image: SUBMISSION_CONTAINER
          environment:
            AIDONODE_NAME: ego2
            AIDONODE_DATA_IN: /fifos/ego2-in
            AIDONODE_DATA_OUT: fifo:/fifos/ego2-out
#
#        npc0:
#          image: ${AIDO_REGISTRY}/duckietown/aidonode-random_agent-full:daffy-aido4
#          environment:
#            AIDONODE_NAME: npc0
#            AIDONODE_DATA_IN: /fifos/npc0-in
#            AIDONODE_DATA_OUT: fifo:/fifos/npc0-out

        scenario_maker:
          environment:
            AIDONODE_DATA_IN: /fifos/scenario_maker-in
            AIDONODE_DATA_OUT: fifo:/fifos/scenario_maker-out
            AIDONODE_CONFIG: |
              maps:
                - udem1
              scenarios_per_map: 1
              robots_npcs: []
              robots_pcs: [ego0, ego1, ego2]
              robots_parked: [parked0, parked1, parked2, parked3, parked4, parked5]
          image: ${AIDO_REGISTRY}/duckietown/challenge-aido_lf-scenario_maker:daffy-amd64
